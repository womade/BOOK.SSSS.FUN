(function(){var b={},g=0,e=!1,h=null,f=null,k=function(){h||(h=setInterval(function(){0<g&&f!=window.location.href&&(f=window.location.href,window.Hash.check())},100))};window.Hash=function(a){return Object.freeze?Object.freeze(a):a}({pushState:function(a){window.history&&window.history.pushState&&(e=a);return this},fragment:function(){var a=window.location.href.split("#");return e?window.location.pathname+(a[1]?"#"+a[1]:""):a[1]||""},get:function(a,c){var b,d=[];for(b in c)Object.prototype.hasOwnProperty(b)&&d.push(encodeURIComponent(b)+"\x3d"+encodeURIComponent(c[b]));0<d.length&&(d="?"+d.join("\x26"));return e?a+d:window.location.href.split("#")[0]+"#"+a+d},go:function(a,b){if(this.fragment()!=a){var c=this.get(a,b);e?window.history.pushState(null,document.title,c):window.location.href=c}return this},update:function(){f=window.location.href;return this},on:function(a,c,e){b[a]||(b[a]={title:e,listeners:[]});b[a].listeners.push(c);g++;k();return this},check:function(){var a,c,e,d=this.fragment();for(c in b)if(Object.prototype.hasOwnProperty.call(b,c))if(b[c].regexp=b[c].regexp||new RegExp(c),e=b[c].regexp.exec(d))for(b[c].title&&(document.title=b[c].title),a=0;a<b[c].listeners.length;a++)b[c].listeners[a].yep&&b[c].listeners[a].yep(d,e);else for(a=0;a<b[c].listeners.length;a++)b[c].listeners[a].nop&&b[c].listeners[a].nop(d);return this}})})();
